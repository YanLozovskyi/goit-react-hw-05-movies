/*! For license information please see 278.c3a92a14.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[278],{278:function(t,e,r){r.r(e);var n=r(433),o=r(861),a=r(439),i=r(532),c=r(877),u=r(519),s=r(791),f=r(87),l=r(184);function h(){h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new Z(n||[]);return o(i,"_invoke",{value:j(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",v="executing",y="completed",g={};function d(){}function m(){}function w(){}var x={};s(x,i,(function(){return this}));var b=Object.getPrototypeOf,L=b&&b(b(P([])));L&&L!==r&&n.call(L,i)&&(x=L);var E=w.prototype=d.prototype=Object.create(x);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,r,n){var o=p;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=l(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(E),s(E,u,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}e.default=function(){var t,e=(0,s.useState)([]),r=(0,a.Z)(e,2),p=r[0],v=r[1],y=(0,s.useState)(!1),g=(0,a.Z)(y,2),d=g[0],m=g[1],w=(0,s.useState)(!1),x=(0,a.Z)(w,2),b=x[0],L=x[1],E=(0,s.useState)(!1),_=(0,a.Z)(E,2),k=_[0],j=_[1],O=(0,s.useState)(1),S=(0,a.Z)(O,2),T=S[0],Z=S[1],P=(0,s.useState)(!1),N=(0,a.Z)(P,2),G=N[0],F=N[1],C=(0,f.lr)(),A=(0,a.Z)(C,2),M=A[0],q=A[1],z=null!==(t=M.get("query"))&&void 0!==t?t:"";(0,s.useEffect)((function(){var t;if(!z){var e=new AbortController;return function(){(t=t||(0,o.Z)(h().mark((function t(){var r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(!!z),L(!0),t.prev=2,t.next=5,i.z.getTrendMoviesByParam("week",e);case 5:r=t.sent,v(r),m(!1),L(!1),t.next=17;break;case 11:if(t.prev=11,t.t0=t.catch(2),"canceled"!==t.t0.message){t.next=15;break}return t.abrupt("return");case 15:m(t.t0.message),L(!1);case 17:case"end":return t.stop()}}),t,null,[[2,11]])})))).apply(this,arguments)}(),function(){return e.abort()}}}),[z]),(0,s.useEffect)((function(){var t;if(z){1===T&&(v([]),L(!0));var e=new AbortController;return function(){(t=t||(0,o.Z)(h().mark((function t(){var r,o,a,c;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.prev=1,t.next=4,i.z.searchMoviesByQuery(z,T,e);case 4:r=t.sent,o=r.total_pages,a=r.results,c=r.page,v((function(t){return[].concat((0,n.Z)(t),(0,n.Z)(a))})),F(c<o),m(!1),j(!1),L(!1),t.next=21;break;case 15:if(t.prev=15,t.t0=t.catch(1),"canceled"!==t.t0.message){t.next=19;break}return t.abrupt("return");case 19:m(t.t0.message),j(!1);case 21:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}(),function(){return e.abort()}}}),[T,z]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.E1,{onSubmit:function(t){if(""===t.trim())return q({});q({query:t}),Z(1)}}),!b&&!d&&!z&&(0,l.jsx)(u.Tx,{message:"Weekly trends"}),!b&&!d&&z&&0!==(null===p||void 0===p?void 0:p.length)&&(0,l.jsx)(u.Tx,{message:"Movies by result ".concat(z)}),!b&&!d&&0===(null===p||void 0===p?void 0:p.length)&&z&&(0,l.jsx)(u.Tx,{message:"No results were found for your movie search '".concat(z,"'. Please try a different query")}),d&&(0,l.jsx)(u.Tx,{message:"Sorry, but something went wrong while attempting to generate the movies. We are working to resolve this issue as soon as possible. Please try again later or contact our support team for further assistance. Thank you for your patience and understanding!"}),b&&(0,l.jsx)(u.uP,{}),!b&&(0,l.jsx)(c.Z,{movies:p}),G&&z&&(0,l.jsx)(u.zx,{onClick:function(){Z(T+1)},disabled:k,$marginLeft:"auto",children:k?"Loading...":"Load More"})]})}}}]);
//# sourceMappingURL=278.c3a92a14.chunk.js.map